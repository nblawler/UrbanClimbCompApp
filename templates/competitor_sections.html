<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>{{ competitor.name }} Â· Sections</title>
	<link rel="stylesheet" href="/static/app.css" />
</head>

<body>
	{% set viewer_id = session.get('competitor_id') %}
	<nav class="container top-nav">
		<div class="nav-links">
			<a
				class="back {% if nav_active == 'leaderboard' %}active{% endif %}"
				href="/leaderboard{% if viewer_id %}?cid={{ viewer_id }}{% endif %}"
			>
				Leaderboard
			</a>
			{% if viewer_id %}
				<a
					class="back {% if nav_active == 'sections' %}active{% endif %}"
					href="/competitor/{{ viewer_id }}/sections"
				>
					Sections
				</a>
				<a
					class="back {% if nav_active == 'stats' %}active{% endif %}"
					href="/competitor/{{ viewer_id }}/stats"
				>
					Stats
				</a>
			{% endif %}
		</div>
	</nav>

	<main class="container">

		<!-- Unified header: same as competitor.html -->
		<header class="comp-header">
			<h1 class="comp-name">
				<span class="comp-label">Name:</span>
				<span class="comp-value">{{ competitor.name }}</span>
			</h1>

			<div class="comp-meta-row">
				<div class="comp-pill">
					<span class="comp-pill-label">Competitor</span>
					<span class="comp-pill-value">{{ competitor.id }}</span>
				</div>

				<div class="comp-pill">
					<span class="comp-pill-label">Points</span>
					<span class="comp-pill-value" id="total-points">{{ total_points }}</span>
				</div>

				{% if position is not none %}
					<div class="comp-pill">
						<span class="comp-pill-label">Position</span>
						<span class="comp-pill-value">{{ position }}</span>
					</div>
				{% endif %}
			</div>
		</header>

		<section class="section-grid">
			{% for s in sections %}
				<a
					href="/competitor/{{ competitor.id }}/section/{{ s.slug }}"
					class="section-btn-big"
				>
					{{ s.name }}
				</a>
			{% endfor %}
		</section>

	</main>
</body>
</html>
