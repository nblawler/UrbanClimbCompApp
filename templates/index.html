<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
	<title>Comp Circuit</title>
	<link rel="stylesheet" href="/static/app.css" />

	<style>
		* { margin: 0; padding: 0; box-sizing: border-box; }

		body {
			font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
			background: linear-gradient(135deg, #0a1628 0%, #1a2942 100%);
			min-height: 100vh;
			display: flex;
			flex-direction: column;
			color: #fff;
		}

		/* Top nav */
		.nav {
			padding: 1.25rem 2rem;
			display: flex;
			gap: 1.5rem;
			align-items: center;
			flex-wrap: wrap;
		}

		.nav a {
			color: rgba(255, 255, 255, 0.7);
			text-decoration: none;
			font-size: 0.95rem;
			transition: color 0.2s;
			font-weight: 600;
		}

		.nav a.active {
			color: #5df4a2;
			font-weight: 800;
		}

		.nav a:hover { color: #fff; }

		/* Main container */
		.container {
			flex: 1;
			display: flex;
			flex-direction: column;
			align-items: center;
			padding: 2rem;
			max-width: 1200px;
			margin: 0 auto;
			width: 100%;
		}

		/* Hero */
		.hero {
			text-align: center;
			margin: 2.5rem 0 2.5rem;
			max-width: 820px;
		}

		.hero h1 {
			font-size: 3.25rem;
			font-weight: 900;
			margin-bottom: 0.85rem;
			background: linear-gradient(135deg, #fff 0%, #5df4a2 100%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			letter-spacing: -0.02em;
		}

		.hero p {
			font-size: 1.15rem;
			color: rgba(255, 255, 255, 0.75);
			line-height: 1.6;
			margin: 0.35rem 0;
		}

		.hero .hint {
			font-size: 0.95rem;
			color: rgba(255, 255, 255, 0.65);
			margin-top: 0.85rem;
		}

		/* Cards */
		.card-grid {
			width: 100%;
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
			gap: 1.5rem;
			max-width: 980px;
			margin-bottom: 2rem;
		}

		.card {
			background: rgba(255, 255, 255, 0.05);
			backdrop-filter: blur(10px);
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 1.5rem;
			padding: 2rem;
		}

		.card h2 {
			font-size: 1.6rem;
			font-weight: 900;
			margin-bottom: 0.35rem;
		}

		.card .sub {
			color: rgba(255, 255, 255, 0.7);
			font-size: 0.95rem;
			margin-bottom: 1.1rem;
		}

		.card .desc {
			color: rgba(255,255,255,0.7);
			line-height: 1.6;
			margin: 0.75rem 0 1.25rem;
			font-size: 0.95rem;
		}

		/* CTA buttons */
		.btn {
			display: inline-block;
			width: 100%;
			padding: 1rem 1.25rem;
			background: #5df4a2;
			color: #0a1628;
			text-decoration: none;
			border-radius: 0.85rem;
			font-weight: 900;
			font-size: 1rem;
			text-align: center;
			transition: all 0.2s;
			border: none;
			cursor: pointer;
		}

		.btn:hover { background: #4de392; transform: scale(1.02); }

		.btn.secondary {
			background: rgba(255, 255, 255, 0.08);
			color: rgba(255, 255, 255, 0.9);
		}

		.btn.secondary:hover {
			background: rgba(255, 255, 255, 0.12);
			transform: scale(1.02);
		}

		/* Info grid */
		.info-grid {
			width: 100%;
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
			gap: 1.25rem;
			max-width: 980px;
			margin-top: 0.25rem;
		}

		.info-card {
			background: rgba(255, 255, 255, 0.05);
			backdrop-filter: blur(10px);
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 1.25rem;
			padding: 1.5rem;
		}

		.info-card h3 {
			font-size: 1.1rem;
			font-weight: 900;
			margin-bottom: 0.5rem;
		}

		.info-card p {
			color: rgba(255, 255, 255, 0.75);
			line-height: 1.6;
			font-size: 0.95rem;
		}

		@media (max-width: 768px) {
			.nav { padding: 1rem; }
			.container { padding: 1.25rem; }
			.hero h1 { font-size: 2.4rem; }
			.hero p { font-size: 1.05rem; }
		}
	</style>
</head>

<body>
	{% set viewer_id = session.get('competitor_id') %}
	{% set is_admin = session.get('admin_ok', False) %}

	<nav class="nav">
		<a class="active" href="{% if viewer_id or is_admin %}/my-comps{% else %}/{% endif %}">Home</a>
		<a href="/leaderboard">Leaderboard</a>

		{% if is_admin %}
			<a href="/admin/comps">Admin</a>
		{% endif %}

		{% if viewer_id or is_admin %}
			<a href="/logout">Log out</a>
		{% else %}
			<a href="/login">Log in</a>
		{% endif %}
	</nav>

	<main class="container">
		<header class="hero">
			<h1>Comp Circuit</h1>
			<p>Log your sends, track your points, and climb your way up the leaderboard.</p>
			<p class="hint">Sign up once, then use your email to join and score future competitions.</p>
		</header>

		<section class="card-grid">
			<div class="card">
				<h2>New to this?</h2>
				<div class="sub">Create your account and join comps</div>

				<p class="desc">
					Head to upcoming competitions, pick an event, then register once.
					After that, youâ€™ll reuse your email for every comp.
				</p>

				<a href="/my-comps" class="btn">View upcoming comps</a>
			</div>

			<div class="card">
				<h2>Already registered?</h2>
				<div class="sub">Log back into your scoring</div>

				<p class="desc">
					Use your email to get a one-time 6-digit code and jump back into scoring.
				</p>

				<a href="/login" class="btn secondary">Log in</a>
			</div>
		</section>

		<section class="info-grid">
			<div class="info-card">
				<h3>How scoring works</h3>
				<p>Top as many climbs as you can. Points depend on difficulty and number of attempts.</p>
			</div>

			<div class="info-card">
				<h3>Fair play</h3>
				<p>Log honestly. If you make a mistake, just update the climb and hit save again.</p>
			</div>

			<div class="info-card">
				<h3>Need help?</h3>
				<p>Ask the desk to check your registration email or help you log back in.</p>
			</div>
		</section>
	</main>
</body>
</html>
